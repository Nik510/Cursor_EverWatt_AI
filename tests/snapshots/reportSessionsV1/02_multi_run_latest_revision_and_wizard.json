{
  "caseId": "02_multi_run_latest_revision_and_wizard",
  "session": {
    "createdAtIso": "2026-03-01T00:00:00.000Z",
    "events": [
      {
        "atIso": "2026-03-01T00:00:00.000Z",
        "type": "CREATED"
      },
      {
        "atIso": "2026-03-01T00:00:00.000Z",
        "runId": "run_golden_02_a",
        "type": "RUN_ATTACHED"
      },
      {
        "atIso": "2026-03-01T00:00:00.000Z",
        "runId": "run_golden_02_b",
        "type": "RUN_ATTACHED"
      },
      {
        "atIso": "2026-03-01T00:00:00.000Z",
        "revisionId": "rev_02_multi_run_latest_revision_and_wizard",
        "runId": "run_golden_02_b",
        "type": "REVISION_ATTACHED"
      },
      {
        "atIso": "2026-03-01T00:00:00.000Z",
        "hash": "b86710f161049409ad9186a178a9718ab1fdb422e5dabb1d90baf7c471315b5b",
        "runIdsUsed": [
          "run_golden_02_b"
        ],
        "type": "WIZARD_OUTPUT_BUILT"
      }
    ],
    "inputsSummary": {},
    "inputsV1": {},
    "kind": "WIZARD",
    "projectId": "p_golden_02",
    "reportId": "rs_golden_02",
    "revisions": [
      {
        "createdAtIso": "2026-03-01T00:00:00.000Z",
        "downloadUrl": "/api/projects/p_golden_02/reports/internal-engineering/rev_02_multi_run_latest_revision_and_wizard.html",
        "format": "HTML",
        "revisionId": "rev_02_multi_run_latest_revision_and_wizard",
        "runId": "run_golden_02_b"
      }
    ],
    "runIds": [
      "run_golden_02_b",
      "run_golden_02_a"
    ],
    "status": "HAS_WIZARD_OUTPUT",
    "title": "Golden Session 02",
    "updatedAtIso": "2026-03-01T00:00:00.000Z",
    "warnings": [],
    "wizardOutputV1": {
      "approxBytes": 22558,
      "generatedAtIso": "2026-03-01T00:00:00.000Z",
      "hash": "b86710f161049409ad9186a178a9718ab1fdb422e5dabb1d90baf7c471315b5b",
      "kind": "INLINE",
      "revisionIdsUsed": [
        "rev_02_multi_run_latest_revision_and_wizard"
      ],
      "runIdsUsed": "[Circular]",
      "wizardOutput": {
        "charts": [],
        "claimsPolicyV1": {
          "allowedClaims": {
            "canClaimAnnualUsdSavings": false,
            "canClaimDemandSavings": false,
            "canClaimEmissionsAvoided": true,
            "canRecommendBatterySizing": false,
            "canRecommendTariffSwitch": true
          },
          "blockedReasons": [
            "requiredInputsMissing:Advanced metering (AMI) required for this program.",
            "requiredInputsMissing:Annual kWh required for this program (minAnnualKwh gate).",
            "requiredInputsMissing:Billing cycle summary (start/end dates, demand/usage) required to compute bill deltas.",
            "requiredInputsMissing:Customer segment/type required to match many utility/ISO programs",
            "requiredInputsMissing:Customer type required for this program (segment-gated).",
            "requiredInputsMissing:Demand charge presence (meterMeta.hasDemandChargesKnown) required to interpret Option S relevance.",
            "requiredInputsMissing:Interval data reference required for load shape, load shifting, and demand response eligibility",
            "requiredInputsMissing:Interval data required for this program.",
            "requiredInputsMissing:Interval kW series required to compute deterministic bill deltas per billing cycle.",
            "requiredInputsMissing:Interval kW series required to evaluate load shifting potential.",
            "requiredInputsMissing:Interval kW series required to infer load shape (provide interval data or configure loader).",
            "requiredInputsMissing:Interval-derived baseload kW required to screen battery feasibility.",
            "requiredInputsMissing:Interval-derived baseload kW required to size battery power.",
            "requiredInputsMissing:Interval-derived loadFactor required to evaluate Option S relevance.",
            "requiredInputsMissing:Interval-derived loadFactor required to screen battery feasibility.",
            "requiredInputsMissing:Interval-derived peak kW required to evaluate Option S relevance.",
            "requiredInputsMissing:Interval-derived peak kW required to screen battery feasibility.",
            "requiredInputsMissing:Interval-derived peak kW required to size battery power.",
            "requiredInputsMissing:Interval-derived peakinessIndex required to evaluate Option S relevance.",
            "requiredInputsMissing:Interval-derived peakinessIndex required to interpret peak shaving potential."
          ],
          "requiredNextData": [
            {
              "code": "required:Advanced metering (AMI) required for this program.",
              "label": "Advanced metering (AMI) required for this program."
            },
            {
              "code": "required:Annual kWh required for this program (minAnnualKwh gate).",
              "label": "Annual kWh required for this program (minAnnualKwh gate)."
            },
            {
              "code": "required:Billing cycle summary (start/end dates, demand/usage) required to compute bill deltas.",
              "label": "Billing cycle summary (start/end dates, demand/usage) required to compute bill deltas."
            },
            {
              "code": "required:Customer segment/type required to match many utility/ISO programs",
              "label": "Customer segment/type required to match many utility/ISO programs"
            },
            {
              "code": "required:Customer type required for this program (segment-gated).",
              "label": "Customer type required for this program (segment-gated)."
            },
            {
              "code": "required:Demand charge presence (meterMeta.hasDemandChargesKnown) required to interpret Option S relevance.",
              "label": "Demand charge presence (meterMeta.hasDemandChargesKnown) required to interpret Option S relevance."
            },
            {
              "code": "required:Interval data reference required for load shape, load shifting, and demand response eligibility",
              "label": "Interval data reference required for load shape, load shifting, and demand response eligibility"
            },
            {
              "code": "required:Interval data required for this program.",
              "label": "Interval data required for this program."
            },
            {
              "code": "required:Interval kW series required to compute deterministic bill deltas per billing cycle.",
              "label": "Interval kW series required to compute deterministic bill deltas per billing cycle."
            },
            {
              "code": "required:Interval kW series required to evaluate load shifting potential.",
              "label": "Interval kW series required to evaluate load shifting potential."
            },
            {
              "code": "required:Interval kW series required to infer load shape (provide interval data or configure loader).",
              "label": "Interval kW series required to infer load shape (provide interval data or configure loader)."
            },
            {
              "code": "required:Interval-derived baseload kW required to screen battery feasibility.",
              "label": "Interval-derived baseload kW required to screen battery feasibility."
            },
            {
              "code": "required:Interval-derived baseload kW required to size battery power.",
              "label": "Interval-derived baseload kW required to size battery power."
            },
            {
              "code": "required:Interval-derived loadFactor required to evaluate Option S relevance.",
              "label": "Interval-derived loadFactor required to evaluate Option S relevance."
            },
            {
              "code": "required:Interval-derived loadFactor required to screen battery feasibility.",
              "label": "Interval-derived loadFactor required to screen battery feasibility."
            },
            {
              "code": "required:Interval-derived peak kW required to evaluate Option S relevance.",
              "label": "Interval-derived peak kW required to evaluate Option S relevance."
            },
            {
              "code": "required:Interval-derived peak kW required to screen battery feasibility.",
              "label": "Interval-derived peak kW required to screen battery feasibility."
            },
            {
              "code": "required:Interval-derived peak kW required to size battery power.",
              "label": "Interval-derived peak kW required to size battery power."
            },
            {
              "code": "required:Interval-derived peakinessIndex required to evaluate Option S relevance.",
              "label": "Interval-derived peakinessIndex required to evaluate Option S relevance."
            },
            {
              "code": "required:Interval-derived peakinessIndex required to interpret peak shaving potential.",
              "label": "Interval-derived peakinessIndex required to interpret peak shaving potential."
            },
            {
              "code": "required:Interval-derived peakinessIndex required to screen battery feasibility.",
              "label": "Interval-derived peakinessIndex required to screen battery feasibility."
            },
            {
              "code": "required:Monthly kWh required for this program (minMonthlyKwh gate).",
              "label": "Monthly kWh required for this program (minMonthlyKwh gate)."
            },
            {
              "code": "required:NAICS code required for this program.",
              "label": "NAICS code required for this program."
            },
            {
              "code": "required:NAICS code required to match many utility/ISO programs",
              "label": "NAICS code required to match many utility/ISO programs"
            }
          ],
          "status": "LIMITED"
        },
        "dataQuality": {
          "missingInfoIds": [
            "behaviorV2.baseLoadDrift.unavailable",
            "behaviorV2.insufficientCycles",
            "behaviorV2.peaks.missing",
            "behaviorV2.weekendShare.insufficientMonths",
            "behaviorV3.electric.insufficientMonths",
            "billing.billPdfTouUsage.BILL_PDF_TOU_DEMAND_NOT_EXPLICIT",
            "billing.billPdfTouUsage.BILL_PDF_TOU_ENERGY_NOT_EXPLICIT",
            "determinants.reconcile.billingRecords.missing",
            "determinants.reconcile.reconcilable.count",
            "interval.intervalElectricV1.missing",
            "supply.v1.lse_undetected",
            "tariff.applicability.demand.missing",
            "tariff.applicability.rules.missing",
            "tariff.applicability.unknown",
            "tariff.applicability.voltage.unknown"
          ],
          "score0to100": 62,
          "warnings": [
            "missing:behaviorV2.baseLoadDrift.unavailable",
            "missing:behaviorV2.insufficientCycles",
            "missing:behaviorV2.peaks.missing",
            "missing:behaviorV2.weekendShare.insufficientMonths",
            "missing:behaviorV3.electric.insufficientMonths",
            "missing:billing.billPdfTouUsage.BILL_PDF_TOU_DEMAND_NOT_EXPLICIT",
            "missing:billing.billPdfTouUsage.BILL_PDF_TOU_ENERGY_NOT_EXPLICIT",
            "missing:determinants.reconcile.billingRecords.missing",
            "missing:determinants.reconcile.reconcilable.count",
            "missing:interval.intervalElectricV1.missing"
          ]
        },
        "findings": [
          {
            "confidence0to1": 0.95,
            "evidenceRefs": [
              "analysisRun:run_golden_02_b:session.inputsSummary"
            ],
            "id": "dq_inputs",
            "severity": "warning",
            "summaryBullets": [
              "Score: 62/100",
              "Intervals: missing",
              "Bill text: present",
              "Address: missing"
            ],
            "title": "Data completeness"
          },
          {
            "confidence0to1": 0.9,
            "evidenceRefs": [
              "analysisRun:run_golden_02_b:reportJson.missingInfo"
            ],
            "id": "missing_info",
            "severity": "warning",
            "summaryBullets": [
              "Missing IDs: behaviorV2.baseLoadDrift.unavailable, behaviorV2.insufficientCycles, behaviorV2.peaks.missing, behaviorV2.weekendShare.insufficientMonths, behaviorV3.electric.insufficientMonths, billing.billPdfTouUsage.BILL_PDF_TOU_DEMAND_NOT_EXPLICIT, billing.billPdfTouUsage.BILL_PDF_TOU_ENERGY_NOT_EXPLICIT, determinants.reconcile.billingRecords.missing, determinants.reconcile.reconcilable.count, interval.intervalElectricV1.missing, supply.v1.lse_undetected, tariff.applicability.demand.missing…"
            ],
            "title": "Missing info (reduces certainty)"
          },
          {
            "confidence0to1": 0.75,
            "evidenceRefs": [
              "analysisRun:run_golden_02_b:reportJson.summary.json.rateFit.status"
            ],
            "id": "rate_fit",
            "severity": "warning",
            "summaryBullets": [
              "Status: unknown"
            ],
            "title": "Rate fit status"
          },
          {
            "confidence0to1": 0.7,
            "evidenceRefs": [
              "analysisRun:run_golden_02_b:reportJson.batteryDecisionPackV1_2"
            ],
            "id": "battery_screening",
            "severity": "info",
            "summaryBullets": [
              "Recommendation tier: DO_NOT_PROCEED"
            ],
            "title": "Battery screening"
          },
          {
            "confidence0to1": 0.8,
            "evidenceRefs": [
              "analysisRun:run_golden_02_b:reportJson.summary.json.building.currentRateCode"
            ],
            "id": "current_rate",
            "severity": "info",
            "summaryBullets": [
              "Rate: E-19"
            ],
            "title": "Current rate code"
          },
          {
            "confidence0to1": 0.1,
            "evidenceRefs": [
              "analysisRun:run_golden_02_b:workflow.utility.insights.supplyStructure"
            ],
            "id": "supply_structure",
            "severity": "info",
            "summaryBullets": [
              "Supply type: unknown",
              "Confidence: 0.1"
            ],
            "title": "Supply structure"
          },
          {
            "confidence0to1": 0.85,
            "evidenceRefs": [
              "analysisRun:run_golden_02_b:reportJson.project.territory"
            ],
            "id": "utility_territory",
            "severity": "info",
            "summaryBullets": [
              "Territory: PGE"
            ],
            "title": "Utility territory"
          }
        ],
        "missingInfoSummary": {
          "recommended": [
            {
              "category": "tariff",
              "description": "Base load drift unavailable (insufficient reconcilable months).",
              "id": "behaviorV2.baseLoadDrift.unavailable",
              "severity": "RECOMMENDED"
            },
            {
              "category": "tariff",
              "description": "Insufficient reconcilable overlap cycles for multi-year behavior insights (need >= 12).",
              "id": "behaviorV2.insufficientCycles",
              "severity": "RECOMMENDED"
            },
            {
              "category": "tariff",
              "description": "Peak timing unavailable (missing determinant timestamps for kW maxima).",
              "id": "behaviorV2.peaks.missing",
              "severity": "RECOMMENDED"
            },
            {
              "category": "tariff",
              "description": "Weekend share comparison requires >= 24 reconcilable months.",
              "id": "behaviorV2.weekendShare.insufficientMonths",
              "severity": "RECOMMENDED"
            },
            {
              "category": "tariff",
              "description": "Insufficient reconcilable overlap months for electric behavior insights (need >= 12).",
              "id": "behaviorV3.electric.insufficientMonths",
              "severity": "RECOMMENDED"
            },
            {
              "category": "billing",
              "description": "TOU kW buckets were not explicitly labeled (need at least two of: Peak/Off-Peak/Partial-Peak/Super-Off-Peak kW).",
              "details": {
                "reasonCode": "BILL_PDF_TOU_DEMAND_NOT_EXPLICIT",
                "source": "bill_pdf"
              },
              "id": "billing.billPdfTouUsage.BILL_PDF_TOU_DEMAND_NOT_EXPLICIT",
              "severity": "RECOMMENDED"
            },
            {
              "category": "billing",
              "description": "TOU kWh buckets were not explicitly labeled (need at least two of: Peak/Off-Peak/Partial-Peak/Super-Off-Peak kWh).",
              "details": {
                "reasonCode": "BILL_PDF_TOU_ENERGY_NOT_EXPLICIT",
                "source": "bill_pdf"
              },
              "id": "billing.billPdfTouUsage.BILL_PDF_TOU_ENERGY_NOT_EXPLICIT",
              "severity": "RECOMMENDED"
            },
            {
              "category": "tariff",
              "description": "Billing records missing for reconciliation.",
              "id": "determinants.reconcile.billingRecords.missing",
              "severity": "RECOMMENDED"
            },
            {
              "category": "tariff",
              "description": "Only 0 cycles were reconcilable due to limited overlap/coverage.",
              "details": {
                "reconciledCycleCount": 0
              },
              "id": "determinants.reconcile.reconcilable.count",
              "severity": "RECOMMENDED"
            },
            {
              "category": "billing",
              "description": "Interval electricity data is missing; interval-derived insights (and some deterministic audit signals) will be unavailable.",
              "id": "interval.intervalElectricV1.missing",
              "severity": "RECOMMENDED"
            },
            {
              "category": "tariff",
              "description": "LSE (CCA/DA provider) could not be detected from bill text.",
              "id": "supply.v1.lse_undetected",
              "severity": "RECOMMENDED"
            },
            {
              "category": "tariff",
              "description": "Max demand (kW) is missing. Provide billing records with measured demand or interval data.",
              "id": "tariff.applicability.demand.missing",
              "severity": "RECOMMENDED"
            },
            {
              "category": "tariff",
              "description": "No applicability rules exist yet for rate \"E-19\". Add a rule module for this rate family.",
              "id": "tariff.applicability.rules.missing",
              "severity": "RECOMMENDED"
            },
            {
              "category": "tariff",
              "description": "Tariff applicability is unknown with current inputs; see applicability panel for required missing determinants.",
              "id": "tariff.applicability.unknown",
              "severity": "RECOMMENDED"
            },
            {
              "category": "tariff",
              "description": "Voltage level (secondary/primary/transmission) is unknown; provide meter metadata or bill text that indicates service voltage.",
              "id": "tariff.applicability.voltage.unknown",
              "severity": "RECOMMENDED"
            }
          ],
          "required": [],
          "warnings": []
        },
        "opportunities": [
          {
            "confidence0to1": 0.65,
            "id": "opp_battery",
            "prerequisites": [
              "Provide interval data (15-min or 1-hr)"
            ],
            "risks": [],
            "tier": "DO_NOT_PROCEED",
            "title": "Battery opportunity (screening)"
          }
        ],
        "provenance": {
          "engineVersions": {},
          "generatedAtIso": "2026-03-01T00:00:00.000Z",
          "projectId": "p_golden_02",
          "reportId": "rs_golden_02",
          "revisionIdsUsed": [
            "rev_02_multi_run_latest_revision_and_wizard"
          ],
          "runIdsUsed": [
            "run_golden_02_b"
          ]
        },
        "verifierResultV1": {
          "checks": [
            {
              "code": "verifier.econ.sum_mismatch",
              "details": {
                "delta": 0,
                "sumLineItems": 0,
                "total": 0
              },
              "message": "Battery economics reconcile within tolerance.",
              "paths": [
                "reportJson.batteryDecisionPackV1_2.audit.reconcile"
              ],
              "status": "PASS",
              "tolerance": 0.01
            }
          ],
          "generatedAtIso": "2026-03-01T00:00:00.000Z",
          "status": "PASS",
          "summary": {
            "failCount": 0,
            "passCount": 1,
            "warnCount": 0
          }
        },
        "wizardOutputHash": "b86710f161049409ad9186a178a9718ab1fdb422e5dabb1d90baf7c471315b5b",
        "wizardSteps": [
          {
            "evidence": {
              "runId": "run_golden_02_b"
            },
            "helpText": "Optional context that improves auditability and downstream reporting.",
            "id": "project_metadata",
            "requiredActions": [
              {
                "actionId": "project_metadata.ADD_PROJECT_METADATA",
                "apiHint": {
                  "endpoint": "/api/report-sessions-v1/rs_golden_02/inputs/set-project-metadata",
                  "method": "POST",
                  "payloadExample": {
                    "address": "123 Main St, City, CA",
                    "meterId": "optional",
                    "utilityHint": "PGE"
                  }
                },
                "label": "Add address and utility account identifiers",
                "required": false,
                "status": "OPTIONAL",
                "type": "ADD_PROJECT_METADATA"
              }
            ],
            "status": "OPTIONAL",
            "title": "Project metadata (optional)"
          },
          {
            "evidence": {
              "runId": "run_golden_02_b"
            },
            "helpText": "Used to extract rate labels, billing periods, and TOU hints when available.",
            "id": "bill_pdf",
            "requiredActions": [
              {
                "actionId": "bill_pdf.UPLOAD_BILL_PDF",
                "apiHint": {
                  "endpoint": "/api/report-sessions-v1/rs_golden_02/inputs/upload-bill",
                  "method": "POST",
                  "payloadExample": {
                    "file": "<multipart/form-data field: file>"
                  }
                },
                "label": "Upload bill PDF (extract bill text)",
                "required": false,
                "status": "DONE",
                "type": "UPLOAD_BILL_PDF"
              }
            ],
            "status": "DONE",
            "title": "Bill PDF"
          },
          {
            "evidence": {
              "runId": "run_golden_02_b"
            },
            "helpText": "Enables interval-derived load shape, demand, and battery feasibility signals.",
            "id": "interval_data",
            "requiredActions": [
              {
                "actionId": "interval_data.UPLOAD_INTERVAL_CSV",
                "apiHint": {
                  "endpoint": "/api/report-sessions-v1/rs_golden_02/inputs/upload-interval",
                  "method": "POST",
                  "payloadExample": {
                    "file": "<multipart/form-data field: file>"
                  }
                },
                "label": "Upload interval CSV (PG&E exports supported)",
                "required": false,
                "status": "NEEDS_INPUT",
                "type": "UPLOAD_INTERVAL_CSV"
              }
            ],
            "status": "NEEDS_INPUT",
            "title": "Interval data (CSV)"
          },
          {
            "evidence": {
              "runId": "run_golden_02_b"
            },
            "helpText": "Required to resolve tariff metadata deterministically when bill matching is unavailable/ambiguous.",
            "id": "rate_code",
            "requiredActions": [
              {
                "actionId": "rate_code.ENTER_RATE_CODE",
                "apiHint": {
                  "endpoint": "/api/report-sessions-v1/rs_golden_02/inputs/set-rate-code",
                  "method": "POST",
                  "payloadExample": {
                    "rateCode": "E-19"
                  }
                },
                "label": "Enter current rate code (e.g., E-19, B-19)",
                "required": true,
                "status": "DONE",
                "type": "ENTER_RATE_CODE"
              }
            ],
            "status": "DONE",
            "title": "Current rate code"
          },
          {
            "evidence": {
              "runId": "run_golden_02_b"
            },
            "helpText": "Improves generation/exit-fee context when analyzing CCA or Direct Access supply.",
            "id": "supply_provider",
            "requiredActions": [
              {
                "actionId": "supply_provider.SELECT_PROVIDER_TYPE",
                "apiHint": {
                  "endpoint": "/api/report-sessions-v1/rs_golden_02/inputs/set-provider",
                  "method": "POST",
                  "payloadExample": {
                    "providerType": "NONE"
                  }
                },
                "label": "Select supply provider type",
                "required": false,
                "status": "OPTIONAL",
                "type": "SELECT_PROVIDER_TYPE"
              }
            ],
            "status": "OPTIONAL",
            "title": "Supply provider type (CCA/DA/None)"
          },
          {
            "evidence": {
              "runId": "run_golden_02_b"
            },
            "helpText": "Selects vintage-specific PCIA deterministically when available.",
            "id": "pcia_vintage",
            "requiredActions": [
              {
                "actionId": "pcia_vintage.SET_PCIA_VINTAGE_KEY",
                "apiHint": {
                  "endpoint": "/api/report-sessions-v1/rs_golden_02/inputs/set-pcia-vintage-key",
                  "method": "POST",
                  "payloadExample": {
                    "pciaVintageKey": "2019"
                  }
                },
                "label": "Set PCIA vintage key (when known)",
                "required": false,
                "status": "OPTIONAL",
                "type": "SET_PCIA_VINTAGE_KEY"
              }
            ],
            "status": "OPTIONAL",
            "title": "PCIA vintage key (optional)"
          },
          {
            "evidence": {
              "runId": "run_golden_02_b"
            },
            "helpText": "Required inputs are missing; resolve required items or explicitly choose “Run anyway” to mark outputs as partial.",
            "id": "run_utility",
            "requiredActions": [],
            "status": "BLOCKED",
            "title": "Run Utility"
          },
          {
            "evidence": {
              "runId": "run_golden_02_b"
            },
            "helpText": "Builds a deterministic wizard artifact from stored run snapshots (no engine recompute on GET).",
            "id": "build_wizard_output",
            "requiredActions": [],
            "status": "DONE",
            "title": "Build wizard output"
          },
          {
            "evidence": {
              "revisionId": "rev_02_multi_run_latest_revision_and_wizard",
              "runId": "run_golden_02_b"
            },
            "helpText": "Optional: attach a rendered revision (HTML/PDF) for sharing.",
            "id": "generate_revision",
            "requiredActions": [],
            "status": "DONE",
            "title": "Generate revision"
          }
        ]
      }
    }
  },
  "wizardOutput": {
    "charts": [],
    "claimsPolicyV1": {
      "allowedClaims": {
        "canClaimAnnualUsdSavings": false,
        "canClaimDemandSavings": false,
        "canClaimEmissionsAvoided": true,
        "canRecommendBatterySizing": false,
        "canRecommendTariffSwitch": true
      },
      "blockedReasons": [
        "requiredInputsMissing:Advanced metering (AMI) required for this program.",
        "requiredInputsMissing:Annual kWh required for this program (minAnnualKwh gate).",
        "requiredInputsMissing:Billing cycle summary (start/end dates, demand/usage) required to compute bill deltas.",
        "requiredInputsMissing:Customer segment/type required to match many utility/ISO programs",
        "requiredInputsMissing:Customer type required for this program (segment-gated).",
        "requiredInputsMissing:Demand charge presence (meterMeta.hasDemandChargesKnown) required to interpret Option S relevance.",
        "requiredInputsMissing:Interval data reference required for load shape, load shifting, and demand response eligibility",
        "requiredInputsMissing:Interval data required for this program.",
        "requiredInputsMissing:Interval kW series required to compute deterministic bill deltas per billing cycle.",
        "requiredInputsMissing:Interval kW series required to evaluate load shifting potential.",
        "requiredInputsMissing:Interval kW series required to infer load shape (provide interval data or configure loader).",
        "requiredInputsMissing:Interval-derived baseload kW required to screen battery feasibility.",
        "requiredInputsMissing:Interval-derived baseload kW required to size battery power.",
        "requiredInputsMissing:Interval-derived loadFactor required to evaluate Option S relevance.",
        "requiredInputsMissing:Interval-derived loadFactor required to screen battery feasibility.",
        "requiredInputsMissing:Interval-derived peak kW required to evaluate Option S relevance.",
        "requiredInputsMissing:Interval-derived peak kW required to screen battery feasibility.",
        "requiredInputsMissing:Interval-derived peak kW required to size battery power.",
        "requiredInputsMissing:Interval-derived peakinessIndex required to evaluate Option S relevance.",
        "requiredInputsMissing:Interval-derived peakinessIndex required to interpret peak shaving potential."
      ],
      "requiredNextData": [
        {
          "code": "required:Advanced metering (AMI) required for this program.",
          "label": "Advanced metering (AMI) required for this program."
        },
        {
          "code": "required:Annual kWh required for this program (minAnnualKwh gate).",
          "label": "Annual kWh required for this program (minAnnualKwh gate)."
        },
        {
          "code": "required:Billing cycle summary (start/end dates, demand/usage) required to compute bill deltas.",
          "label": "Billing cycle summary (start/end dates, demand/usage) required to compute bill deltas."
        },
        {
          "code": "required:Customer segment/type required to match many utility/ISO programs",
          "label": "Customer segment/type required to match many utility/ISO programs"
        },
        {
          "code": "required:Customer type required for this program (segment-gated).",
          "label": "Customer type required for this program (segment-gated)."
        },
        {
          "code": "required:Demand charge presence (meterMeta.hasDemandChargesKnown) required to interpret Option S relevance.",
          "label": "Demand charge presence (meterMeta.hasDemandChargesKnown) required to interpret Option S relevance."
        },
        {
          "code": "required:Interval data reference required for load shape, load shifting, and demand response eligibility",
          "label": "Interval data reference required for load shape, load shifting, and demand response eligibility"
        },
        {
          "code": "required:Interval data required for this program.",
          "label": "Interval data required for this program."
        },
        {
          "code": "required:Interval kW series required to compute deterministic bill deltas per billing cycle.",
          "label": "Interval kW series required to compute deterministic bill deltas per billing cycle."
        },
        {
          "code": "required:Interval kW series required to evaluate load shifting potential.",
          "label": "Interval kW series required to evaluate load shifting potential."
        },
        {
          "code": "required:Interval kW series required to infer load shape (provide interval data or configure loader).",
          "label": "Interval kW series required to infer load shape (provide interval data or configure loader)."
        },
        {
          "code": "required:Interval-derived baseload kW required to screen battery feasibility.",
          "label": "Interval-derived baseload kW required to screen battery feasibility."
        },
        {
          "code": "required:Interval-derived baseload kW required to size battery power.",
          "label": "Interval-derived baseload kW required to size battery power."
        },
        {
          "code": "required:Interval-derived loadFactor required to evaluate Option S relevance.",
          "label": "Interval-derived loadFactor required to evaluate Option S relevance."
        },
        {
          "code": "required:Interval-derived loadFactor required to screen battery feasibility.",
          "label": "Interval-derived loadFactor required to screen battery feasibility."
        },
        {
          "code": "required:Interval-derived peak kW required to evaluate Option S relevance.",
          "label": "Interval-derived peak kW required to evaluate Option S relevance."
        },
        {
          "code": "required:Interval-derived peak kW required to screen battery feasibility.",
          "label": "Interval-derived peak kW required to screen battery feasibility."
        },
        {
          "code": "required:Interval-derived peak kW required to size battery power.",
          "label": "Interval-derived peak kW required to size battery power."
        },
        {
          "code": "required:Interval-derived peakinessIndex required to evaluate Option S relevance.",
          "label": "Interval-derived peakinessIndex required to evaluate Option S relevance."
        },
        {
          "code": "required:Interval-derived peakinessIndex required to interpret peak shaving potential.",
          "label": "Interval-derived peakinessIndex required to interpret peak shaving potential."
        },
        {
          "code": "required:Interval-derived peakinessIndex required to screen battery feasibility.",
          "label": "Interval-derived peakinessIndex required to screen battery feasibility."
        },
        {
          "code": "required:Monthly kWh required for this program (minMonthlyKwh gate).",
          "label": "Monthly kWh required for this program (minMonthlyKwh gate)."
        },
        {
          "code": "required:NAICS code required for this program.",
          "label": "NAICS code required for this program."
        },
        {
          "code": "required:NAICS code required to match many utility/ISO programs",
          "label": "NAICS code required to match many utility/ISO programs"
        }
      ],
      "status": "LIMITED"
    },
    "dataQuality": {
      "missingInfoIds": [
        "behaviorV2.baseLoadDrift.unavailable",
        "behaviorV2.insufficientCycles",
        "behaviorV2.peaks.missing",
        "behaviorV2.weekendShare.insufficientMonths",
        "behaviorV3.electric.insufficientMonths",
        "billing.billPdfTouUsage.BILL_PDF_TOU_DEMAND_NOT_EXPLICIT",
        "billing.billPdfTouUsage.BILL_PDF_TOU_ENERGY_NOT_EXPLICIT",
        "determinants.reconcile.billingRecords.missing",
        "determinants.reconcile.reconcilable.count",
        "interval.intervalElectricV1.missing",
        "supply.v1.lse_undetected",
        "tariff.applicability.demand.missing",
        "tariff.applicability.rules.missing",
        "tariff.applicability.unknown",
        "tariff.applicability.voltage.unknown"
      ],
      "score0to100": 62,
      "warnings": [
        "missing:behaviorV2.baseLoadDrift.unavailable",
        "missing:behaviorV2.insufficientCycles",
        "missing:behaviorV2.peaks.missing",
        "missing:behaviorV2.weekendShare.insufficientMonths",
        "missing:behaviorV3.electric.insufficientMonths",
        "missing:billing.billPdfTouUsage.BILL_PDF_TOU_DEMAND_NOT_EXPLICIT",
        "missing:billing.billPdfTouUsage.BILL_PDF_TOU_ENERGY_NOT_EXPLICIT",
        "missing:determinants.reconcile.billingRecords.missing",
        "missing:determinants.reconcile.reconcilable.count",
        "missing:interval.intervalElectricV1.missing"
      ]
    },
    "findings": [
      {
        "confidence0to1": 0.95,
        "evidenceRefs": [
          "analysisRun:run_golden_02_b:session.inputsSummary"
        ],
        "id": "dq_inputs",
        "severity": "warning",
        "summaryBullets": [
          "Score: 62/100",
          "Intervals: missing",
          "Bill text: present",
          "Address: missing"
        ],
        "title": "Data completeness"
      },
      {
        "confidence0to1": 0.9,
        "evidenceRefs": [
          "analysisRun:run_golden_02_b:reportJson.missingInfo"
        ],
        "id": "missing_info",
        "severity": "warning",
        "summaryBullets": [
          "Missing IDs: behaviorV2.baseLoadDrift.unavailable, behaviorV2.insufficientCycles, behaviorV2.peaks.missing, behaviorV2.weekendShare.insufficientMonths, behaviorV3.electric.insufficientMonths, billing.billPdfTouUsage.BILL_PDF_TOU_DEMAND_NOT_EXPLICIT, billing.billPdfTouUsage.BILL_PDF_TOU_ENERGY_NOT_EXPLICIT, determinants.reconcile.billingRecords.missing, determinants.reconcile.reconcilable.count, interval.intervalElectricV1.missing, supply.v1.lse_undetected, tariff.applicability.demand.missing…"
        ],
        "title": "Missing info (reduces certainty)"
      },
      {
        "confidence0to1": 0.75,
        "evidenceRefs": [
          "analysisRun:run_golden_02_b:reportJson.summary.json.rateFit.status"
        ],
        "id": "rate_fit",
        "severity": "warning",
        "summaryBullets": [
          "Status: unknown"
        ],
        "title": "Rate fit status"
      },
      {
        "confidence0to1": 0.7,
        "evidenceRefs": [
          "analysisRun:run_golden_02_b:reportJson.batteryDecisionPackV1_2"
        ],
        "id": "battery_screening",
        "severity": "info",
        "summaryBullets": [
          "Recommendation tier: DO_NOT_PROCEED"
        ],
        "title": "Battery screening"
      },
      {
        "confidence0to1": 0.8,
        "evidenceRefs": [
          "analysisRun:run_golden_02_b:reportJson.summary.json.building.currentRateCode"
        ],
        "id": "current_rate",
        "severity": "info",
        "summaryBullets": [
          "Rate: E-19"
        ],
        "title": "Current rate code"
      },
      {
        "confidence0to1": 0.1,
        "evidenceRefs": [
          "analysisRun:run_golden_02_b:workflow.utility.insights.supplyStructure"
        ],
        "id": "supply_structure",
        "severity": "info",
        "summaryBullets": [
          "Supply type: unknown",
          "Confidence: 0.1"
        ],
        "title": "Supply structure"
      },
      {
        "confidence0to1": 0.85,
        "evidenceRefs": [
          "analysisRun:run_golden_02_b:reportJson.project.territory"
        ],
        "id": "utility_territory",
        "severity": "info",
        "summaryBullets": [
          "Territory: PGE"
        ],
        "title": "Utility territory"
      }
    ],
    "missingInfoSummary": {
      "recommended": [
        {
          "category": "tariff",
          "description": "Base load drift unavailable (insufficient reconcilable months).",
          "id": "behaviorV2.baseLoadDrift.unavailable",
          "severity": "RECOMMENDED"
        },
        {
          "category": "tariff",
          "description": "Insufficient reconcilable overlap cycles for multi-year behavior insights (need >= 12).",
          "id": "behaviorV2.insufficientCycles",
          "severity": "RECOMMENDED"
        },
        {
          "category": "tariff",
          "description": "Peak timing unavailable (missing determinant timestamps for kW maxima).",
          "id": "behaviorV2.peaks.missing",
          "severity": "RECOMMENDED"
        },
        {
          "category": "tariff",
          "description": "Weekend share comparison requires >= 24 reconcilable months.",
          "id": "behaviorV2.weekendShare.insufficientMonths",
          "severity": "RECOMMENDED"
        },
        {
          "category": "tariff",
          "description": "Insufficient reconcilable overlap months for electric behavior insights (need >= 12).",
          "id": "behaviorV3.electric.insufficientMonths",
          "severity": "RECOMMENDED"
        },
        {
          "category": "billing",
          "description": "TOU kW buckets were not explicitly labeled (need at least two of: Peak/Off-Peak/Partial-Peak/Super-Off-Peak kW).",
          "details": {
            "reasonCode": "BILL_PDF_TOU_DEMAND_NOT_EXPLICIT",
            "source": "bill_pdf"
          },
          "id": "billing.billPdfTouUsage.BILL_PDF_TOU_DEMAND_NOT_EXPLICIT",
          "severity": "RECOMMENDED"
        },
        {
          "category": "billing",
          "description": "TOU kWh buckets were not explicitly labeled (need at least two of: Peak/Off-Peak/Partial-Peak/Super-Off-Peak kWh).",
          "details": {
            "reasonCode": "BILL_PDF_TOU_ENERGY_NOT_EXPLICIT",
            "source": "bill_pdf"
          },
          "id": "billing.billPdfTouUsage.BILL_PDF_TOU_ENERGY_NOT_EXPLICIT",
          "severity": "RECOMMENDED"
        },
        {
          "category": "tariff",
          "description": "Billing records missing for reconciliation.",
          "id": "determinants.reconcile.billingRecords.missing",
          "severity": "RECOMMENDED"
        },
        {
          "category": "tariff",
          "description": "Only 0 cycles were reconcilable due to limited overlap/coverage.",
          "details": {
            "reconciledCycleCount": 0
          },
          "id": "determinants.reconcile.reconcilable.count",
          "severity": "RECOMMENDED"
        },
        {
          "category": "billing",
          "description": "Interval electricity data is missing; interval-derived insights (and some deterministic audit signals) will be unavailable.",
          "id": "interval.intervalElectricV1.missing",
          "severity": "RECOMMENDED"
        },
        {
          "category": "tariff",
          "description": "LSE (CCA/DA provider) could not be detected from bill text.",
          "id": "supply.v1.lse_undetected",
          "severity": "RECOMMENDED"
        },
        {
          "category": "tariff",
          "description": "Max demand (kW) is missing. Provide billing records with measured demand or interval data.",
          "id": "tariff.applicability.demand.missing",
          "severity": "RECOMMENDED"
        },
        {
          "category": "tariff",
          "description": "No applicability rules exist yet for rate \"E-19\". Add a rule module for this rate family.",
          "id": "tariff.applicability.rules.missing",
          "severity": "RECOMMENDED"
        },
        {
          "category": "tariff",
          "description": "Tariff applicability is unknown with current inputs; see applicability panel for required missing determinants.",
          "id": "tariff.applicability.unknown",
          "severity": "RECOMMENDED"
        },
        {
          "category": "tariff",
          "description": "Voltage level (secondary/primary/transmission) is unknown; provide meter metadata or bill text that indicates service voltage.",
          "id": "tariff.applicability.voltage.unknown",
          "severity": "RECOMMENDED"
        }
      ],
      "required": [],
      "warnings": []
    },
    "opportunities": [
      {
        "confidence0to1": 0.65,
        "id": "opp_battery",
        "prerequisites": [
          "Provide interval data (15-min or 1-hr)"
        ],
        "risks": [],
        "tier": "DO_NOT_PROCEED",
        "title": "Battery opportunity (screening)"
      }
    ],
    "provenance": {
      "engineVersions": {},
      "generatedAtIso": "2026-03-01T00:00:00.000Z",
      "projectId": "p_golden_02",
      "reportId": "rs_golden_02",
      "revisionIdsUsed": [
        "rev_02_multi_run_latest_revision_and_wizard"
      ],
      "runIdsUsed": [
        "run_golden_02_b"
      ]
    },
    "verifierResultV1": {
      "checks": [
        {
          "code": "verifier.econ.sum_mismatch",
          "details": {
            "delta": 0,
            "sumLineItems": 0,
            "total": 0
          },
          "message": "Battery economics reconcile within tolerance.",
          "paths": [
            "reportJson.batteryDecisionPackV1_2.audit.reconcile"
          ],
          "status": "PASS",
          "tolerance": 0.01
        }
      ],
      "generatedAtIso": "2026-03-01T00:00:00.000Z",
      "status": "PASS",
      "summary": {
        "failCount": 0,
        "passCount": 1,
        "warnCount": 0
      }
    },
    "wizardOutputHash": "b86710f161049409ad9186a178a9718ab1fdb422e5dabb1d90baf7c471315b5b",
    "wizardSteps": [
      {
        "evidence": {
          "runId": "run_golden_02_b"
        },
        "helpText": "Optional context that improves auditability and downstream reporting.",
        "id": "project_metadata",
        "requiredActions": [
          {
            "actionId": "project_metadata.ADD_PROJECT_METADATA",
            "apiHint": {
              "endpoint": "/api/report-sessions-v1/rs_golden_02/inputs/set-project-metadata",
              "method": "POST",
              "payloadExample": {
                "address": "123 Main St, City, CA",
                "meterId": "optional",
                "utilityHint": "PGE"
              }
            },
            "label": "Add address and utility account identifiers",
            "required": false,
            "status": "OPTIONAL",
            "type": "ADD_PROJECT_METADATA"
          }
        ],
        "status": "OPTIONAL",
        "title": "Project metadata (optional)"
      },
      {
        "evidence": {
          "runId": "run_golden_02_b"
        },
        "helpText": "Used to extract rate labels, billing periods, and TOU hints when available.",
        "id": "bill_pdf",
        "requiredActions": [
          {
            "actionId": "bill_pdf.UPLOAD_BILL_PDF",
            "apiHint": {
              "endpoint": "/api/report-sessions-v1/rs_golden_02/inputs/upload-bill",
              "method": "POST",
              "payloadExample": {
                "file": "<multipart/form-data field: file>"
              }
            },
            "label": "Upload bill PDF (extract bill text)",
            "required": false,
            "status": "DONE",
            "type": "UPLOAD_BILL_PDF"
          }
        ],
        "status": "DONE",
        "title": "Bill PDF"
      },
      {
        "evidence": {
          "runId": "run_golden_02_b"
        },
        "helpText": "Enables interval-derived load shape, demand, and battery feasibility signals.",
        "id": "interval_data",
        "requiredActions": [
          {
            "actionId": "interval_data.UPLOAD_INTERVAL_CSV",
            "apiHint": {
              "endpoint": "/api/report-sessions-v1/rs_golden_02/inputs/upload-interval",
              "method": "POST",
              "payloadExample": {
                "file": "<multipart/form-data field: file>"
              }
            },
            "label": "Upload interval CSV (PG&E exports supported)",
            "required": false,
            "status": "NEEDS_INPUT",
            "type": "UPLOAD_INTERVAL_CSV"
          }
        ],
        "status": "NEEDS_INPUT",
        "title": "Interval data (CSV)"
      },
      {
        "evidence": {
          "runId": "run_golden_02_b"
        },
        "helpText": "Required to resolve tariff metadata deterministically when bill matching is unavailable/ambiguous.",
        "id": "rate_code",
        "requiredActions": [
          {
            "actionId": "rate_code.ENTER_RATE_CODE",
            "apiHint": {
              "endpoint": "/api/report-sessions-v1/rs_golden_02/inputs/set-rate-code",
              "method": "POST",
              "payloadExample": {
                "rateCode": "E-19"
              }
            },
            "label": "Enter current rate code (e.g., E-19, B-19)",
            "required": true,
            "status": "DONE",
            "type": "ENTER_RATE_CODE"
          }
        ],
        "status": "DONE",
        "title": "Current rate code"
      },
      {
        "evidence": {
          "runId": "run_golden_02_b"
        },
        "helpText": "Improves generation/exit-fee context when analyzing CCA or Direct Access supply.",
        "id": "supply_provider",
        "requiredActions": [
          {
            "actionId": "supply_provider.SELECT_PROVIDER_TYPE",
            "apiHint": {
              "endpoint": "/api/report-sessions-v1/rs_golden_02/inputs/set-provider",
              "method": "POST",
              "payloadExample": {
                "providerType": "NONE"
              }
            },
            "label": "Select supply provider type",
            "required": false,
            "status": "OPTIONAL",
            "type": "SELECT_PROVIDER_TYPE"
          }
        ],
        "status": "OPTIONAL",
        "title": "Supply provider type (CCA/DA/None)"
      },
      {
        "evidence": {
          "runId": "run_golden_02_b"
        },
        "helpText": "Selects vintage-specific PCIA deterministically when available.",
        "id": "pcia_vintage",
        "requiredActions": [
          {
            "actionId": "pcia_vintage.SET_PCIA_VINTAGE_KEY",
            "apiHint": {
              "endpoint": "/api/report-sessions-v1/rs_golden_02/inputs/set-pcia-vintage-key",
              "method": "POST",
              "payloadExample": {
                "pciaVintageKey": "2019"
              }
            },
            "label": "Set PCIA vintage key (when known)",
            "required": false,
            "status": "OPTIONAL",
            "type": "SET_PCIA_VINTAGE_KEY"
          }
        ],
        "status": "OPTIONAL",
        "title": "PCIA vintage key (optional)"
      },
      {
        "evidence": {
          "runId": "run_golden_02_b"
        },
        "helpText": "Required inputs are missing; resolve required items or explicitly choose “Run anyway” to mark outputs as partial.",
        "id": "run_utility",
        "requiredActions": [],
        "status": "BLOCKED",
        "title": "Run Utility"
      },
      {
        "evidence": {
          "runId": "run_golden_02_b"
        },
        "helpText": "Builds a deterministic wizard artifact from stored run snapshots (no engine recompute on GET).",
        "id": "build_wizard_output",
        "requiredActions": [],
        "status": "DONE",
        "title": "Build wizard output"
      },
      {
        "evidence": {
          "revisionId": "rev_02_multi_run_latest_revision_and_wizard",
          "runId": "run_golden_02_b"
        },
        "helpText": "Optional: attach a rendered revision (HTML/PDF) for sharing.",
        "id": "generate_revision",
        "requiredActions": [],
        "status": "DONE",
        "title": "Generate revision"
      }
    ]
  }
}
