[
  {
    "fixtureFile": "tests/fixtures/auditDrawer/v1/cases/01_iou_only.json",
    "expected": {
      "expectedEnergyRateSourceKind": "DELIVERY",
      "expectedGenerationExplainerId": "cca_generation_pricing",
      "expectedTariffBrowserUrlPresent": true,
      "expectedWarningsIncludes": []
    }
  },
  {
    "fixtureFile": "tests/fixtures/auditDrawer/v1/cases/02_cca_all_in.json",
    "expected": {
      "expectedEnergyRateSourceKind": "CCA_GENERATION_V0_ALL_IN",
      "expectedGenerationExplainerId": "cca_generation_pricing",
      "expectedTariffBrowserUrlPresent": true,
      "expectedWarningsIncludes": []
    }
  },
  {
    "fixtureFile": "tests/fixtures/auditDrawer/v1/cases/03_cca_energy_only.json",
    "expected": {
      "expectedEnergyRateSourceKind": "CCA_GENERATION_V0_ENERGY_ONLY",
      "expectedGenerationExplainerId": "cca_generation_pricing",
      "expectedTariffBrowserUrlPresent": true,
      "expectedWarningsIncludes": []
    }
  },
  {
    "fixtureFile": "tests/fixtures/auditDrawer/v1/cases/04_da_fallback.json",
    "expected": {
      "expectedEnergyRateSourceKind": "DELIVERY",
      "expectedGenerationExplainerId": "da_generation_missing",
      "expectedTariffBrowserUrlPresent": true,
      "expectedWarningsIncludes": ["auditDrawerV1.generation.da_missing", "supply.v1.da_detected_generation_rates_missing"]
    }
  },
  {
    "fixtureFile": "tests/fixtures/auditDrawer/v1/cases/05_ambiguous_tariff.json",
    "expected": {
      "expectedEnergyRateSourceKind": null,
      "expectedGenerationExplainerId": "cca_generation_pricing",
      "expectedTariffBrowserUrlPresent": true,
      "expectedWarningsIncludes": ["auditDrawerV1.missing.intervalEvidence", "batteryEconomicsV1.unavailable"]
    }
  }
]

