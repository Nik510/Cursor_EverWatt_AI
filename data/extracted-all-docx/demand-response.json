[
  {
    "fileName": "PDF #7_ Demand Response (DR) Modeling Manual.docx",
    "filePath": "EVERWATT AI\\TRAINING DATA\\DEMAND RESPONSE\\PDF #7_ Demand Response (DR) Modeling Manual.docx",
    "title": "------------------------------------------------------------",
    "content": "------------------------------------------------------------\n\nDEMAND RESPONSE (DR) MODELING MANUAL\n\nPART 1 — DR PROGRAM STRUCTURE, FUNDAMENTALS, AND SITE BEHAVIOR\n\nRAW STRUCTURED ENGINEERING TEXT\n\n------------------------------------------------------------\n\nSECTION 1 — PURPOSE OF DEMAND RESPONSE MODELING\n\n1.1 Purpose This manual defines the complete engineering and financial logic needed to evaluate, simulate, and optimize demand response (DR) participation for commercial and industrial customers. The goal is to allow an AI system to:\n\nDetermine DR eligibility Simulate DR event behavior Estimate DR revenue Verify technical feasibility Predict SOC requirements for battery-backed DR Avoid impossible DR scenarios Model DR conflicts with HVAC, battery, and EV loads Produce accurate financial forecasts Ensure DR is not incorrectly stacked\n\n1.2 DR Interaction with Other Systems DR interacts with:\n\nBattery storage HVAC EV charging Process loads Tariff structures Critical peak pricing (CPP) Demand charges\n\nAI must model these interactions correctly and avoid double counting.\n\n\n\n------------------------------------------------------------\n\nSECTION 2 — TYPES OF DEMAND RESPONSE PROGRAMS\n\n------------------------------------------------------------\n\n2.1 Event-Based DR Event-based DR requires curtailment during DR events with advance notice.\n\nTypical examples: Day-ahead DR Day-of DR Critical peak events Weather-based DR (CAISO Flex Alerts)\n\nCharacteristics: Predictable event hours Thermal load shifting possible Good combination with batteries\n\n2.2 Price-Based DR Prices surge during DR events; customers reduce usage to save money.\n\nExamples: CPP (Critical Peak Pricing) Real-time pricing (RTP)\n\nCharacteristics: High price volatility Battery arbitrage synergy HVAC pre-cooling is common\n\n2.3 Capacity-Based DR Customers commit to a specific load reduction (kW) capacity.\n\nExamples: Demand bidding Capacity bidding programs (CBP) CAISO RA capacity (resource adequacy programs)\n\nCharacteristics: Monthly payments for committed kW Performance payments for event-hour delivery Consistent revenue stream\n\n2.4 Ancillary Services DR Fast-response DR for frequency or reserve services.\n\nExamples: Fast frequency response Spinning reserve Non-spinning reserve\n\nCharacteristics: Requires sub-second or second-level response NOT suitable for most commercial BESS AI must mark as ineligible unless system explicitly supports it\n\n2.5 Load Management / Flexible Load Programs Utility may throttle or schedule loads—common for HVAC or EV fleets.\n\nCharacteristics: High reliability Low pay Often included with thermostat or building controls\n\nAI must model these separately from event-based DR.\n\n\n\n------------------------------------------------------------\n\nSECTION 3 — DR PROGRAM PARAMETERS\n\n------------------------------------------------------------\n\n3.1 DR Event Duration Event duration typically ranges: 1–8 hours for commercial DR Most common: 2–4 hours\n\nAI must check battery capability vs event duration.\n\n3.2 DR Event Count Event count examples: 10–30 events per year typical Some programs allow >40 events per year\n\nEventCount impacts: Battery cycling SOC reserves Cooling/heating rebound effects Total DR revenue\n\n3.3 Notification Time Notification time categories: Day-ahead notification 2–4 hour notification 15–30 minute notification\n\nAI must: Determine if HVAC or EV loads can respond Ensure battery has enough SOC\n\n3.4 Required Load Reduction (kW) Customers commit to: CommittedKW = minimum kW reduced during event\n\nAI must enforce: Reduction capability must match battery + HVAC + load reduction logic\n\n3.5 Baseline Determination Baseline establishes customer \"normal\" usage during event hours.\n\nCommon baseline types: 10-day average baseline Weather-adjusted baseline Day-of baseline Modified baseline with adjustments\n\nAI must use correct baseline method to compute event performance.\n\n\n\n------------------------------------------------------------\n\nSECTION 4 — DR BASELINE MODELING\n\n------------------------------------------------------------\n\n4.1 Purpose of Baseline Baseline determines DR performance. EventSavings_kW = Baseline_kW − Event_kW\n\nAI must compute baseline using rules of the specific DR program.\n\n4.2 Baseline Calculation Methods Method 1 — Ten-day historical average Baseline = Average(kW from last 10 similar days)\n\nMethod 2 — Adjusted baseline BaselineAdjusted = Baseline × WeatherAdjustment\n\nMethod 3 — Day-of baseline Baseline = Average(kW pre-event)\n\n4.3 Weather Adjustment DR baseline often adjusted by: OutdoorTemp_event OutdoorTemp_baseline\n\nWeatherAdjustmentFactor = 1 + α × (Temp_event − Temp_baseline)\n\nAI must compute accurate weather-adjusted baselines.\n\n4.4 Baseline Manipulation Guardrails AI must prevent baseline manipulation (e.g., intentionally increasing baseline). AI must warn when usage anomalies distort baseline.\n\n\n\n------------------------------------------------------------\n\nSECTION 5 — DR DISPATCH MODELING\n\n------------------------------------------------------------\n\n5.1 Dispatch Priority Order of DR dispatch actions: 1 Battery discharge 2 HVAC load reduction 3 EV charging pause 4 Non-critical process load reduction\n\nAI must follow this order unless user goal overrides.\n\n5.2 Battery Behavior During DR Battery must: Maintain required SOC prior to event Discharge at CommittedKW Avoid violating SOC minimum Consider taper and thermal limits\n\nEventEnergyRequired = CommittedKW × EventDuration\n\nAI must check: EventEnergyRequired ≤ E_usable\n\nIf not → DR event impossible.\n\n5.3 HVAC DR Modeling HVAC can reduce load by: Raising SAT Reducing supply airflow Pre-cooling or pre-heating Shutting off RTUs Reducing ventilation\n\nHVAC_DR_kW = CoolingLoad_shed + FanPower_reduced + ReheatReduction\n\nAI must avoid damaging IAQ, humidity control, or comfort maps.\n\n5.4 EV DR Modeling EV DR includes: Pausing charging Reducing charging current Switching to battery-buffered charging\n\nLimitations: Workplace EV → moderate DR potential Fleet EV → high DR potential Public EV → low DR potential\n\n5.5 Process Load DR Process loads must not be interrupted unless safe to do so.\n\nAI must verify load class before applying DR.\n\n\n\n------------------------------------------------------------\n\nSECTION 6 — DR FINANCIAL MODELING\n\n------------------------------------------------------------\n\n6.1 DR Event Revenue DRRevenue_Event = CommittedKW × EventDuration × DRRate × EventCount\n\nWhere DRRate is usually expressed in: $/kW per hour or $/kW per event or $/kW-year (capacity payment)\n\n6.2 Capacity Payments Capacity payments: DRRevenue_Capacity = CommittedKW × CapacityRate × 12\n\nAI must add both capacity and event revenues when allowed.\n\n6.3 Real-Time Pricing Savings_RTP = kWh_reduced × (RTP_event − NormalRate)\n\nAI must ensure correct real-time pricing data.\n\n6.4 Adjusted Financial Performance DR participation may reduce arbitrage potential due to SOC reservation.\n\nAdjustedSavings = ArbitrageSavings_reduced + DRRevenue − BatteryDegradationCost\n\nAI must compute degradation from DR cycles separately.\n\n6.5 DR Penalties If DR event performance fails: Penalties may apply: Penalty = ShortfallKW × PenaltyRate\n\nAI must include risk of penalty in financial evaluation.\n\n\n\n------------------------------------------------------------\n\nSECTION 7 — DR ELIGIBILITY & TECHNICAL FEASIBILITY\n\n------------------------------------------------------------\n\n7.1 Eligibility Checks AI must check: Battery duration ≥ event duration Battery power ≥ committed kW HVAC curtailment does not violate comfort EV load curtailment technically feasible Baseline stable Load variability within program tolerance\n\n7.2 Feasibility Matrix DR = feasible if: Battery supports full event Or HVAC can shed load sufficiently Or EV charging can be controlled reliably\n\nOtherwise → AI must mark DR as “Not Feasible”.\n\n7.3 Battery-Heavy DR Eligibility Battery-only DR requires: E_usable ≥ committed_kW × duration SOC reserve maintained Charge window available\n\n7.4 HVAC-Heavy DR Eligibility HVAC-heavy DR requires: Cooling or heating loads to shed Indoor air quality maintained Humidity constraints enforced No critical zones compromised\n\n7.5 EV-Heavy DR Eligibility EV DR requires: Flexible charging schedule Reliable throttling Charging windows that allow delayed charging Fleet or workplace setting\n\nPublic charging = usually NOT DR-feasible.\n\n7.6 Comfort Constraints For HVAC-based DR, AI must ensure: Temperature drift ≤ allowable limit Humidity remains within ASHRAE limits\n\nAI must not violate occupant comfort requirements.\n\n\n\n------------------------------------------------------------\n\nSECTION 8 — INTERACTION BETWEEN DR & OTHER MEASURES\n\n------------------------------------------------------------\n\n8.1 DR + Battery Combined Battery can serve as primary DR resource. AI must coordinate: Pre-charging before event Discharging during event Recovering SOC after event\n\nBattery DR participation reduces arbitrage availability — AI must subtract arbitrage savings accordingly.\n\n8.2 DR + HVAC Combined HVAC DR savings include: Reduced cooling Reduced fan Reduced reheat in VAV systems Reduced boiler load\n\nHVAC rebound load must be modeled (post-event spike).\n\n8.3 DR + EV Combined EV DR includes: Charging pause Battery-buffer feed Load shift\n\nAI must consider customer inconvenience cost when modeling EV DR.\n\n8.4 DR + Lighting Lighting DR minimal. Only valid if lighting >10% of load and non-critical.\n\nAI must avoid overestimating lighting DR.\n\n\n\n------------------------------------------------------------\n\nEND OF PART 1\n\n------------------------------------------------------------\n\nTo continue to PART 2 — covering\n\n• Full DR battery dispatch algorithms • DR-baseline manipulation detection • DR stacking rules • DR performance scoring • DR degradation modeling • Multi-event sequences • Climate-zone DR behavior • Complete DR validation matrix • Final AI implementation rules\n\n------------------------------------------------------------\n\nDEMAND RESPONSE (DR) MODELING MANUAL\n\nPART 2 — DISPATCH, BASELINE LOGIC, STACKING, VALIDATION\n\nRAW STRUCTURED ENGINEERING TEXT\n\n------------------------------------------------------------\n\nSECTION 9 — DR DISPATCH ENGINE (FULL ALGORITHMIC DETAIL)\n\n9.1 Purpose DR dispatch determines how the building or battery responds during a DR event to achieve the required kW reduction while respecting comfort, equipment constraints, and SOC requirements.\n\nAI must simulate dispatch on a time-series basis, interval by interval.\n\n9.2 DR Dispatch Actions (Priority Order) The following actions apply in a strict sequence unless overridden by user goal:\n\nPriority 1 — Battery discharge Priority 2 — HVAC load reduction Priority 3 — EV charging curtailment Priority 4 — Non-critical process load curtailment Priority 5 — Lighting reduction (rare)\n\nAI must follow this hierarchy.\n\n9.3 DR Dispatch Inputs Load(t): baseline load profile EventDuration Committed_kW Battery_kW Battery_kWh CoolingLoad(t) HeatingLoad(t) FanPower(t) VentilationLoad(t) ChillerLoad(t)\n\n9.4 DR Dispatch Core Loop For each interval t during event:\n\nStep 1: Determine Baseline_kW(t) Step 2: Determine AvailableCurtailment_kW(t) from HVAC/EV/Process Step 3: Compute BatteryAvailable_kW(t) Step 4: Compute BatteryAvailable_kWh Step 5: Discharge battery up to min(Committed_kW, BatteryAvailable_kW) Step 6: If still short, reduce HVAC loads Step 7: If still short, adjust EV charging Step 8: If still short, adjust process loads Step 9: Compute ActualReduction(t) Step 10: Update SOC Step 11: Check constraints (SOC, comfort, thermal) Step 12: Stop if reduction < required → DR failure\n\n9.5 DR Dispatch Outcome TotalReduction_kW = Σ(Baseline − ActualLoad during event)\n\nIf TotalReduction_kW < Committed_kW → DR shortfall.\n\nDR shortfall risks penalties or reduced payments.\n\n\n\n------------------------------------------------------------\n\nSECTION 10 — DETECTING & PREVENTING BASELINE MANIPULATION\n\n------------------------------------------------------------\n\n10.1 Purpose DR payments depend on Baseline − EventLoad. Artificially inflating baseline or reducing baseline accuracy must be avoided.\n\nAI must detect the following manipulation risks:\n\n10.2 Manipulation Pattern 1 — Pre-Event Load Spike If load spikes immediately before event: AI must flag baseline manipulation.\n\n10.3 Manipulation Pattern 2 — Weekend Baselines Weekend baseline misaligned with weekday event: AI must detect invalid comparison days.\n\n10.4 Manipulation Pattern 3 — HVAC Pre-Cooling Abuse Legitimate pre-cooling reduces event load, but extreme overuse may artificially inflate baseline.\n\nAI must compare temperature/humidity to expected conditions.\n\n10.5 Manipulation Pattern 4 — Equipment Staging Tricks Turning on large loads before baseline window artificially increases baseline.\n\nAI must recommend utility-approved baseline correction.\n\n10.6 Manipulation Prevention Rules AI must always: Use utility-approved baseline calculation Report anomalies Use adjusted baseline when necessary Recompute baseline using verified days\n\n10.7 Baseline Stability Requirements AI must ensure baseline is: Weather-consistent Schedule-consistent Not skewed by holidays Not skewed by outage days Not skewed by process anomalies\n\n\n\n------------------------------------------------------------\n\nSECTION 11 — DR STACKING RULES\n\n------------------------------------------------------------\n\n11.1 Purpose Buildings often want to stack DR with other value streams such as:\n\nArbitrage Peak shaving Tariff optimization HVAC resets\n\nAI must follow strict stacking rules to prevent double counting.\n\n11.2 Battery DR + Arbitrage Battery energy cannot be used twice:\n\nIf battery discharges for DR, battery must NOT simultaneously: Reduce peak outside event Perform arbitrage inside event Perform arbitrage immediately before event if it reduces SOC below needed level\n\nAI must reduce arbitrage savings proportional to DR energy requirement.\n\n11.3 DR + Peak Shaving During DR event, battery reduces load. If DR event overlaps facility monthly peak interval, DR shaving counts as peak shaving but AI must:\n\nEnsure only ONE set of savings Remove double-counted kW from peak-shaving calculation\n\n11.4 DR + HVAC Resets HVAC DR may conflict with HVAC optimization EEMs. AI must enforce savings priority based on user goals.\n\nExample: If user prioritizes DR, HVAC resets may be temporarily disabled to maintain SOC margins.\n\n11.5 DR + EV Charging EV charging pause or reduction yields DR savings. AI must ensure EV DR is counted as DR savings, NOT load-shedding savings AND NOT arbitrage.\n\n11.6 DR + Solar + Battery DR may require shifting solar generation to battery earlier in the day. AI must simulate solar + battery synergy.\n\n\n\n------------------------------------------------------------\n\nSECTION 12 — MULTI-EVENT AND MULTI-DAY DR MODELING\n\n------------------------------------------------------------\n\n12.1 Multiple DR Events in Same Day AI must simulate:\n\nEvent 1 discharge Recovery window Event 2 discharge\n\nBattery must have: Enough SOC after recharge window Enough charging time Thermal limits met\n\nIf recovery insufficient: DR_Event_2 infeasible → must fail eligibility check.\n\n12.2 Multi-Day Heatwave Events DR events often cluster during heatwaves. AI must simulate across multiple days:\n\nDay 1 DR Night recharge Day 2 DR Night recharge Day 3 DR\n\nConstraints: SOC must be ≥ required SOC each day Cooling load increases event-to-event HVAC rebound loads increase\n\n12.3 HVAC Rebound Load After DR curtailment, buildings often experience: Temperature drift Humidity rise Increased compressor power\n\nReboundLoad ≈ 20–60% of curtailed energy depending on system.\n\nAI must simulate rebound load and include it in:\n\nDaily kWh Cooling cost Comfort constraints\n\n12.4 DR Performance Degradation If battery discharge reduces chiller performance or hampers HVAC operations, DR events may become less effective over time.\n\nAI must degrade DR savings slightly over multi-event window.\n\n\n\n------------------------------------------------------------\n\nSECTION 13 — CLIMATE ZONE DR ADJUSTMENT\n\n------------------------------------------------------------\n\n13.1 Cooling-Dominant Zones Hot-dry and hot-humid climates have high DR potential. AP (Available Power Reduction) increases with outside temperature.\n\nAI must assign DR potential multiplier: Hot zones: 1.25–1.50 Cold zones: 0.65–0.80\n\n13.2 Humidity Constraint In humid climates, HVAC DR is limited by humidity constraints. AI must limit HVAC curtailment if indoor humidity exceeds 60%.\n\n13.3 Mild Climate DR In mild climates, DR heavily depends on non-HVAC loads or battery.\n\nAI must weight HVAC role lower in mild climates.\n\n\n\n------------------------------------------------------------\n\nSECTION 14 — FINANCIAL MODELING FOR DR\n\n------------------------------------------------------------\n\n14.1 DR Revenue Breakdown Event revenue: DRRevenue_events = CommittedKW × EventHours × EventCount × EventRate\n\nCapacity revenue: DRRevenue_capacity = CommittedKW × MonthlyCapacityRate × 12\n\n14.2 Adjusted Arbitrage and Shaving DR affects other value streams: ArbitrageReduction = ArbitrageBaseline − ArbitrageWithDR\n\nPeakShavingAdjustment = PeakShaveBaseline − PeakShaveWithDR\n\nAI must subtract arbitrage reduction from annual benefit.\n\n14.3 Penalty Logic Penalty = ShortfallKW × PenaltyRate × EventHours\n\nAI must penalize DR scenarios if performance < commitment.\n\n14.4 Net DR Benefit NetDRBenefit = DRRevenue_events\n\nDRRevenue_capacity − ArbitrageReduction − BatteryDegradationCost − HVACReboundCost − Penalties\n\nAI must compute each term.\n\n\n\n------------------------------------------------------------\n\nSECTION 15 — DR FAILURE MODES AND AI REJECTION CONDITIONS\n\n------------------------------------------------------------\n\n15.1 Battery Insufficient Duration If E_usable < CommittedKW × EventDuration → Reject.\n\n15.2 EV DR Not Feasible If fleet charging window too narrow or workplace EV lacks control → Reject.\n\n15.3 HVAC DR Violates Comfort If indoor temp predicted to exceed allowable drift → Reject.\n\n15.4 Baseline Instability If weather pattern deviation too large → Flag uncertain.\n\n15.5 Tariff Mismatch If DR tariff not available in user’s location → Reject.\n\n15.6 DR Event Overlap with Facility Peak AI must split savings but avoid double-counting.\n\n\n\n------------------------------------------------------------\n\nSECTION 16 — FULL DR VALIDATION MATRIX\n\n------------------------------------------------------------\n\n16.1 DR Technical Validation Test 1 — Duration Test BatteryDuration < EventDuration → fail Test 2 — SOC Test SOC < required pre-event → fail Test 3 — HVAC Comfort Test Temperature drift > limit → fail\n\n16.2 DR Baseline Validation Test 4 — Baseline manipulation Load spike prior → fail Test 5 — Holiday baseline used incorrectly → fail\n\n16.3 DR Financial Validation Test 6 — DR revenue > physical maximum → fail Test 7 — DR penalty risk ignored → fail\n\n16.4 DR Stacking Validation Test 8 — Arbitrage double-count → fail Test 9 — Battery DR and shaving overlap double-count → fail\n\n16.5 Multi-Event Validation Test 10 — Two events in same day without recharge → fail Test 11 — Multi-day heatwave battery depletion → fail\n\n\n\n------------------------------------------------------------\n\nSECTION 17 — AI IMPLEMENTATION RULES FOR DR\n\n------------------------------------------------------------\n\n17.1 Required Inputs Event duration Event count Event hours Committed kW Tariff information Battery specs HVAC system type EV load type Building schedule\n\n17.2 Modeling Sequence 1 Determine DR program type 2 Build baseline 3 Compute available HVAC, EV, battery curtailment 4 Simulate DR event 5 Check duration and SOC 6 Compute revenue 7 Check penalties 8 Adjust arbitrage and energy flows 9 Adjust peak shaving 10 Compute net benefit 11 Validate 12 Output results\n\n17.3 Output Requirements AI must output: DR eligibility DR kW reduction Event revenue Capacity revenue Battery usage HVAC usage EV curtailment strategy Net benefit Warnings Uncertainty score\n\n17.4 Explanation Requirements AI must explain: Why DR is feasible or not Why committed kW chosen How SOC reserves computed How baseline established What constraints applied What assumptions used Any warnings about conflicting programs\n\n\n\n------------------------------------------------------------\n\nEND OF PDF #7 — DEMAND RESPONSE MODELING MANUAL\n\n------------------------------------------------------------\n\n\n\n",
    "size": 18584,
    "category": "demand-response"
  }
]